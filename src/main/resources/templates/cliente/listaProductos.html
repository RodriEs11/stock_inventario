<!DOCTYPE html>
<html lang="en">

<head>

	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="description" content="">
	<meta name="author" content="">

	<title>Lista de Productos</title>

	<!-- Custom fonts for this template-->
	<link th:href="@{/vendor/fontawesome-free/css/all.min.css}" rel="stylesheet" type="text/css">
	<link
		href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"
		rel="stylesheet">

	<!-- Custom styles for this template-->
	<link th:href="@{/css/sb-admin-2.min.css}" rel="stylesheet">

	<!-- Custom styles for this page -->
	<link th:href="@{vendor/datatables/dataTables.bootstrap4.min.css}" rel="stylesheet">

</head>

<body id="page-top">
	<!-- Page Wrapper -->
	<div id="wrapper">

		<!-- Sidebar -->
		<div th:insert="~{fragments/sidebar :: sidebar}"></div>

				<!-- Content Wrapper -->
				<div id="content-wrapper" class="d-flex flex-column">

					<!-- Main Content -->
					<div id="content">

						<!-- Topbar -->
						<div th:replace="~{fragments/topbar::topbar}"></div>


						<!-- Begin Page Content -->
						<div class="container-fluid">

							<!-- DataTales Example -->

							<!-- Page Heading -->
							<h1 class="h3 mb-4 text-gray-800">Lista de productos</h1>
							
							
														<div class="card-body" id="message-container">

														<div th:if="${error}">
															<div id="error-message" class="border-left-danger alert alert-danger">
																<p th:text="${error}"></p>
															</div>
														</div>
														<div th:if="${message}">
															<div id="succes-message" class="border-left-success alert alert-success">
																<p th:text="${message}"></p>
															</div>
														</div>

													</div>
													
													
								<div class="table-responsive">


									<table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">

										<thead>
											<tr>
											     <th>Nombre</th>
											     <th>Descripcion</th>
											     <th>Precio</th>
												 <th>Cantidad</th>
											</tr>
										</thead>

										<tbody>

											<tr th:each="producto : ${productos}">

												
												<td th:text="${producto.nombre}"></td>
												<td th:text="${producto.descripcion}"></td>
												<td th:text="${producto.precioVenta}"></td>
												<td>

													<div class="d-flex p-2">
														<form method="POST" th:action="@{'/Compra/agregarProducto'}">
														                <input type="hidden" name="productoId" th:value="${producto.id}" />
														                <input type="number" name="cantidad" value="1" min="1" />
														                <button class="btn btn-primary" type="submit">Comprar</button>
																		


														 </form>
														 
														 											 
													</div>

												</td>

								</div>

								</tr>

								</tbody>

								</table>
							</div>
						</div>
					</div>
					<!-- /.container-fluid -->

				</div>
				<!-- End of Main Content -->

			</div>
			<!-- End of Content Wrapper -->

			</div>
			<!-- End of Page Wrapper -->

			<!-- Scroll to Top Button-->
			<a class="scroll-to-top rounded" href="#page-top">
				<i class="fas fa-angle-up"></i>
			</a>

			<!-- Logout Modal-->
			<div th:replace="~{fragments/logout-modal::logout-modal}"></div>

			<!-- Bootstrap core JavaScript-->
			<script th:src="@{/vendor/jquery/jquery.min.js}"></script>
			<script th:src="@{/vendor/bootstrap/js/bootstrap.bundle.min.js}"></script>

			<!-- Core plugin JavaScript-->
			<script th:src="@{/vendor/jquery-easing/jquery.easing.min.js}"></script>

			<!-- Custom scripts for all pages-->
			<script th:src="@{/js/sb-admin-2.min.js}"></script>

			<!-- Page level plugins -->
			<script th:src="@{/vendor/datatables/jquery.dataTables.min.js}"></script>
			<script th:src="@{/vendor/datatables/dataTables.bootstrap4.min.js}"></script>

			<!-- Page level custom scripts -->
			<script th:src="@{/js/demo/datatables-demo.js}"></script>


		</body>

		</html>


</body>

</html>